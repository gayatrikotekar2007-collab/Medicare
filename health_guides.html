<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediCare - Health Guides</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f0f7ff 0%, #e6f2ff 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        header {
            background: linear-gradient(135deg, #2c7da0 0%, #01497c 100%);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-size: 1.8rem;
            font-weight: bold;
        }
        
        .logo i {
            margin-right: 10px;
            font-size: 2rem;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav li {
            margin: 0 15px;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            padding: 5px 10px;
            border-radius: 4px;
        }
        
        nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .auth-buttons {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .btn {
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }
        
        .btn-primary {
            background-color: #468faf;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2a6f97;
        }
        
        .btn-secondary {
            background-color: transparent;
            border: 1px solid white;
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .btn-danger {
            background-color: #e63946;
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c1121f;
        }
        
        .btn-success {
            background-color: #2a9d8f;
            color: white;
        }
        
        .btn-success:hover {
            background-color: #21867a;
        }
        
        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }
        
        .page-title {
            text-align: center;
            margin-bottom: 30px;
            color: #01497c;
        }
        
        .page-title h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .page-title p {
            font-size: 1.2rem;
            color: #468faf;
        }
        
        .filter-bar {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .filter-btn {
            padding: 8px 16px;
            background: white;
            border: 1px solid #a9d6e5;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .filter-btn.active, .filter-btn:hover {
            background: #2c7da0;
            color: white;
            border-color: #2c7da0;
        }
        
        .guide-content {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .guide-section {
            margin-bottom: 30px;
        }
        
        .guide-section h2 {
            color: #01497c;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #a9d6e5;
        }
        
        .guide-section h3 {
            color: #2c7da0;
            margin: 20px 0 10px;
        }
        
        .guide-section p {
            margin-bottom: 15px;
            line-height: 1.7;
            color: #333;
        }
        
        .guide-section ul, .guide-section ol {
            margin-left: 20px;
            margin-bottom: 20px;
        }
        
        .guide-section li {
            margin-bottom: 8px;
            line-height: 1.6;
        }
        
        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .resource-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .resource-card:hover {
            transform: translateY(-5px);
        }
        
        .resource-image {
            height: 180px;
            background-color: #e6f2ff;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #468faf;
            font-size: 3.5rem;
        }
        
        .resource-content {
            padding: 20px;
        }
        
        .resource-content h3 {
            color: #01497c;
            margin-bottom: 12px;
            font-size: 1.4rem;
        }
        
        .resource-content p {
            color: #468faf;
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .resource-meta {
            display: flex;
            justify-content: space-between;
            color: #777;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }
        
        footer {
            background: #01497c;
            color: white;
            text-align: center;
            padding: 20px 0;
            margin-top: 40px;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            overflow-y: auto;
        }
        
        .modal-content {
            background-color: white;
            margin: 50px auto;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #aaa;
            transition: color 0.3s;
        }
        
        .close-modal:hover {
            color: #333;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #a9d6e5;
        }
        
        .modal-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .read-aloud-btn {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .reading-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            padding: 10px;
            background-color: #e6f2ff;
            border-radius: 5px;
            display: none;
        }
        
        .reading-indicator.active {
            display: flex;
        }
        
        .progress-bar {
            flex-grow: 1;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: #468faf;
            width: 0%;
            transition: width 0.3s;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            nav ul {
                margin: 15px 0;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            nav li {
                margin: 5px;
            }
            
            .auth-buttons {
                margin-top: 15px;
            }
            
            .page-title h1 {
                font-size: 2rem;
            }
            
            .page-title p {
                font-size: 1rem;
            }
            
            .resource-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                width: 95%;
                margin: 20px auto;
                padding: 20px;
            }
            
            .modal-controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-heartbeat"></i>
                <span>MediCare</span>
            </div>
            <nav>
                <ul>
                    <li><a href="{{ url_for('index') }}">Home</a></li>
                    {% if 'user_id' in session %}
                    <li><a href="{{ url_for('dashboard') }}">Dashboard</a></li>
                    <li><a href="{{ url_for('symptoms') }}">Symptoms Check</a></li>
                    <li><a href="{{ url_for('remedies') }}">Home Remedies</a></li>
                    <li><a href="{{ url_for('doctors') }}">Doctors</a></li>
                    <li><a href="{{ url_for('facilities') }}">Facilities</a></li>
                    <li><a href="{{ url_for('health_tracking') }}">Health Tracking</a></li>
                    <li><a href="{{ url_for('health_guides') }}" class="active">Health Guides</a></li>
                    <li><a href="{{ url_for('healthy_recipes') }}">Recipes</a></li>
                    <li><a href="{{ url_for('exercise_videos') }}">Videos</a></li>
                    {% endif %}
                </ul>
            </nav>
            <div class="auth-buttons">
                {% if 'user_id' in session %}
                <span>Welcome, {{ session.username }}</span>
                <a href="{{ url_for('logout') }}" class="btn btn-danger">Logout</a>
                {% else %}
                <a href="{{ url_for('login') }}" class="btn btn-primary">Login</a>
                <a href="{{ url_for('register') }}" class="btn btn-secondary">Register</a>
                {% endif %}
            </div>
        </div>
    </header>

    <div class="container">
        <div class="page-title">
            <h1>Health Guides</h1>
            <p>Comprehensive guides to help you manage your health effectively</p>
        </div>
        
        <div class="filter-bar">
            <button class="filter-btn active" data-filter="all">All Guides</button>
            <button class="filter-btn" data-filter="heart">Heart Health</button>
            <button class="filter-btn" data-filter="diet">Nutrition</button>
            <button class="filter-btn" data-filter="fitness">Fitness</button>
            <button class="filter-btn" data-filter="mental">Mental Health</button>
        </div>
        
        <div class="guide-content">
            <div class="guide-section">
                <h2>Hypertension Management Guide</h2>
                <p>High blood pressure, or hypertension, is a common condition that can lead to serious health problems if left unmanaged. This guide provides comprehensive information on understanding, preventing, and managing hypertension.</p>
                
                <h3>Understanding Blood Pressure</h3>
                <p>Blood pressure is the force of blood pushing against the walls of your arteries. It's measured in millimeters of mercury (mm Hg) and recorded as two numbers:</p>
                <ul>
                    <li><strong>Systolic pressure</strong> (the top number) - the pressure when your heart beats</li>
                    <li><strong>Diastolic pressure</strong> (the bottom number) - the pressure when your heart rests between beats</li>
                </ul>
                
                <h3>Lifestyle Modifications</h3>
                <p>These lifestyle changes can help prevent and manage high blood pressure:</p>
                
                <h4>Dietary Approaches</h4>
                <ul>
                    <li>Follow the DASH (Dietary Approaches to Stop Hypertension) eating plan</li>
                    <li>Reduce sodium intake to less than 2,300 mg per day (ideally 1,500 mg)</li>
                    <li>Increase potassium-rich foods like bananas, spinach, and sweet potatoes</li>
                    <li>Limit alcohol consumption</li>
                    <li>Reduce saturated and trans fats in your diet</li>
                </ul>
                
                <h4>Physical Activity</h4>
                <ul>
                    <li>Engage in at least 150 minutes of moderate-intensity aerobic activity weekly</li>
                    <li>Include strength training exercises at least two days per week</li>
                    <li>Incorporate flexibility and balance exercises</li>
                </ul>
                
                <h3>Monitoring and Medication</h3>
                <p>Regular monitoring is essential for managing hypertension:</p>
                <ul>
                    <li>Check your blood pressure regularly at home</li>
                    <li>Keep a log of your readings to share with your healthcare provider</li>
                    <li>Take prescribed medications as directed</li>
                    <li>Don't stop medication without consulting your doctor</li>
                </ul>
            </div>
        </div>
        
        <h3>More Health Guides</h3>
        <div class="resource-grid">
            <div class="resource-card" data-category="heart">
                <div class="resource-image">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="resource-content">
                    <h3>Heart Healthy Living</h3>
                    <p>Complete guide to maintaining cardiovascular health through diet, exercise, and lifestyle choices.</p>
                    <div class="resource-meta">
                        <span><i class="fas fa-clock"></i> 15 min read</span>
                        <span><i class="fas fa-book"></i> Guide</span>
                    </div>
                    <button class="btn btn-primary read-guide-btn" data-guide="heart">Read Guide</button>
                </div>
            </div>
            
            <div class="resource-card" data-category="diet">
                <div class="resource-image">
                    <i class="fas fa-apple-alt"></i>
                </div>
                <div class="resource-content">
                    <h3>Nutrition Fundamentals</h3>
                    <p>Learn about balanced nutrition, portion control, and making healthy food choices for optimal health.</p>
                    <div class="resource-meta">
                        <span><i class="fas fa-clock"></i> 20 min read</span>
                        <span><i class="fas fa-book"></i> Guide</span>
                    </div>
                    <button class="btn btn-primary read-guide-btn" data-guide="nutrition">Read Guide</button>
                </div>
            </div>
            
            <div class="resource-card" data-category="fitness">
                <div class="resource-image">
                    <i class="fas fa-running"></i>
                </div>
                <div class="resource-content">
                    <h3>Exercise for Beginners</h3>
                    <p>Safe and effective exercise routines for those just starting their fitness journey.</p>
                    <div class="resource-meta">
                        <span><i class="fas fa-clock"></i> 12 min read</span>
                        <span><i class="fas fa-book"></i> Guide</span>
                    </div>
                    <button class="btn btn-primary read-guide-btn" data-guide="fitness">Read Guide</button>
                </div>
            </div>
            
            <div class="resource-card" data-category="mental">
                <div class="resource-image">
                    <i class="fas fa-brain"></i>
                </div>
                <div class="resource-content">
                    <h3>Stress Management</h3>
                    <p>Techniques and strategies to manage stress and improve mental wellbeing.</p>
                    <div class="resource-meta">
                        <span><i class="fas fa-clock"></i> 18 min read</span>
                        <span><i class="fas fa-book"></i> Guide</span>
                    </div>
                    <button class="btn btn-primary read-guide-btn" data-guide="stress">Read Guide</button>
                </div>
            </div>
            
            <div class="resource-card" data-category="diet">
                <div class="resource-image">
                    <i class="fas fa-weight"></i>
                </div>
                <div class="resource-content">
                    <h3>Weight Management</h3>
                    <p>Healthy approaches to achieving and maintaining a healthy weight through diet and exercise.</p>
                    <div class="resource-meta">
                        <span><i class="fas fa-clock"></i> 22 min read</span>
                        <span><i class="fas fa-book"></i> Guide</span>
                    </div>
                    <button class="btn btn-primary read-guide-btn" data-guide="weight">Read Guide</button>
                </div>
            </div>
            
            <div class="resource-card" data-category="heart">
                <div class="resource-image">
                    <i class="fas fa-tint"></i>
                </div>
                <div class="resource-content">
                    <h3>Cholesterol Control</h3>
                    <p>Understanding cholesterol levels and how to manage them through lifestyle changes.</p>
                    <div class="resource-meta">
                        <span><i class="fas fa-clock"></i> 16 min read</span>
                        <span><i class="fas fa-book"></i> Guide</span>
                    </div>
                    <button class="btn btn-primary read-guide-btn" data-guide="cholesterol">Read Guide</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for displaying guide content -->
    <div id="guideModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-header">
                <h2 id="modalTitle">Guide Title</h2>
            </div>
            <div class="modal-controls">
                <button id="readAloudBtn" class="btn btn-success read-aloud-btn">
                    <i class="fas fa-volume-up"></i> Read Aloud
                </button>
                <button id="pauseBtn" class="btn btn-accent" style="display: none;">
                    <i class="fas fa-pause"></i> Pause
                </button>
                <button id="stopBtn" class="btn btn-danger">
                    <i class="fas fa-stop"></i> Stop
                </button>
            </div>
            <div id="readingIndicator" class="reading-indicator">
                <span>Reading:</span>
                <div class="progress-bar">
                    <div class="progress-fill" id="readingProgress"></div>
                </div>
            </div>
            <div id="modalContent">
                <!-- Guide content will be inserted here -->
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2023 MediCare Healthcare System. All rights reserved.</p>
    </footer>

    <script>
        // Guide content data
        const guideContent = {
            heart: {
                title: "Heart Healthy Living",
                content: `
                    <h3>Maintaining Cardiovascular Health</h3>
                    <p>A healthy heart is essential for overall wellbeing. Cardiovascular diseases are among the leading causes of death worldwide, but many can be prevented through lifestyle changes.</p>
                    
                    <h4>Diet for Heart Health</h4>
                    <p>What you eat significantly impacts your heart health. Follow these dietary guidelines:</p>
                    <ul>
                        <li>Eat plenty of fruits and vegetables (at least 5 servings daily)</li>
                        <li>Choose whole grains over refined carbohydrates</li>
                        <li>Include healthy fats from sources like avocados, nuts, and olive oil</li>
                        <li>Limit saturated and trans fats found in processed foods</li>
                        <li>Reduce sodium intake to less than 2,300 mg per day</li>
                        <li>Eat fish rich in omega-3 fatty acids twice a week</li>
                    </ul>
                    
                    <h4>Exercise Recommendations</h4>
                    <p>Regular physical activity strengthens your heart and improves circulation:</p>
                    <ul>
                        <li>Aim for at least 150 minutes of moderate aerobic exercise weekly</li>
                        <li>Include strength training exercises twice a week</li>
                        <li>Incorporate flexibility and balance exercises</li>
                        <li>Find activities you enjoy to maintain consistency</li>
                    </ul>
                    
                    <h4>Lifestyle Factors</h4>
                    <p>Other important aspects of heart health include:</p>
                    <ul>
                        <li>Maintain a healthy weight</li>
                        <li>Manage stress through meditation, yoga, or other relaxation techniques</li>
                        <li>Get 7-9 hours of quality sleep each night</li>
                        <li>Avoid tobacco products and limit alcohol consumption</li>
                        <li>Regular health check-ups and monitoring blood pressure</li>
                    </ul>
                    
                    <div class="precaution">
                        <strong>When to seek medical attention:</strong> If you experience chest pain, shortness of breath, dizziness, or heart palpitations, consult a healthcare professional immediately.
                    </div>
                `
            },
            nutrition: {
                title: "Nutrition Fundamentals",
                content: `
                    <h3>Understanding Balanced Nutrition</h3>
                    <p>Proper nutrition is the foundation of good health. A balanced diet provides your body with the essential nutrients it needs to function optimally.</p>
                    
                    <h4>Macronutrients</h4>
                    <p>Your body needs three main types of macronutrients:</p>
                    <ul>
                        <li><strong>Carbohydrates:</strong> Your body's main energy source. Choose complex carbs like whole grains, fruits, and vegetables.</li>
                        <li><strong>Proteins:</strong> Essential for building and repairing tissues. Include lean meats, fish, eggs, beans, and legumes.</li>
                        <li><strong>Fats:</strong> Necessary for hormone production and nutrient absorption. Focus on healthy fats from avocados, nuts, seeds, and olive oil.</li>
                    </ul>
                    
                    <h4>Micronutrients</h4>
                    <p>Vitamins and minerals are crucial for various bodily functions:</p>
                    <ul>
                        <li>Vitamin A: Important for vision and immune function</li>
                        <li>B Vitamins: Essential for energy production</li>
                        <li>Vitamin C: Supports immune system and collagen production</li>
                        <li>Vitamin D: Crucial for bone health</li>
                        <li>Calcium: Necessary for strong bones and teeth</li>
                        <li>Iron: Important for oxygen transport in blood</li>
                    </ul>
                    
                    <h4>Portion Control</h4>
                    <p>Understanding portion sizes can help maintain a healthy weight:</p>
                    <ul>
                        <li>Protein: A portion should be about the size of your palm</li>
                        <li>Carbohydrates: A portion should be about the size of your fist</li>
                        <li>Fats: A portion should be about the size of your thumb</li>
                        <li>Vegetables: Fill half your plate with non-starchy vegetables</li>
                    </ul>
                    
                    <h4>Hydration</h4>
                    <p>Water is essential for nearly every bodily function:</p>
                    <ul>
                        <li>Aim for 8-10 glasses of water daily</li>
                        <li>Increase intake during exercise or hot weather</li>
                        <li>Include water-rich foods like fruits and vegetables</li>
                        <li>Limit sugary drinks and excessive caffeine</li>
                    </ul>
                `
            },
            // Add more guide content here for other topics
            fitness: {
                title: "Exercise for Beginners",
                content: `<h3>Starting Your Fitness Journey</h3><p>Beginning an exercise routine can be challenging but rewarding...</p>`
            },
            stress: {
                title: "Stress Management",
                content: `<h3>Managing Stress Effectively</h3><p>Chronic stress can negatively impact both physical and mental health...</p>`
            },
            weight: {
                title: "Weight Management",
                content: `<h3>Healthy Weight Management</h3><p>Maintaining a healthy weight involves balancing calorie intake with physical activity...</p>`
            },
            cholesterol: {
                title: "Cholesterol Control",
                content: `<h3>Understanding and Managing Cholesterol</h3><p>High cholesterol levels can increase risk of heart disease...</p>`
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            // Filter functionality
            const filterButtons = document.querySelectorAll('.filter-btn');
            const modal = document.getElementById('guideModal');
            const closeModal = document.querySelector('.close-modal');
            const modalTitle = document.getElementById('modalTitle');
            const modalContent = document.getElementById('modalContent');
            const readAloudBtn = document.getElementById('readAloudBtn');
            const pauseBtn = document.getElementById('pauseBtn');
            const stopBtn = document.getElementById('stopBtn');
            const readingIndicator = document.getElementById('readingIndicator');
            const readingProgress = document.getElementById('readingProgress');
            
            let speechSynthesis = window.speechSynthesis;
            let currentUtterance = null;
            let isReading = false;
            
            // Filter functionality
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const filter = button.getAttribute('data-filter');
                    
                    // Remove active class from all buttons
                    filterButtons.forEach(btn => {
                        btn.classList.remove('active');
                    });
                    
                    // Add active class to clicked button
                    button.classList.add('active');
                    
                    // Filter resources
                    const resources = document.querySelectorAll('.resource-card');
                    
                    resources.forEach(resource => {
                        if (filter === 'all') {
                            resource.style.display = 'block';
                        } else {
                            const categories = resource.getAttribute('data-category').split(' ');
                            if (categories.includes(filter)) {
                                resource.style.display = 'block';
                            } else {
                                resource.style.display = 'none';
                            }
                        }
                    });
                });
            });
            
            // Read guide button functionality
            document.querySelectorAll('.read-guide-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const guideId = this.getAttribute('data-guide');
                    const guide = guideContent[guideId];
                    
                    if (guide) {
                        modalTitle.textContent = guide.title;
                        modalContent.innerHTML = guide.content;
                        modal.style.display = 'block';
                        
                        // Stop any ongoing reading
                        stopReading();
                    }
                });
            });
            
            // Close modal
            closeModal.addEventListener('click', function() {
                modal.style.display = 'none';
                stopReading();
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    modal.style.display = 'none';
                    stopReading();
                }
            });
            
            // Read aloud functionality
            readAloudBtn.addEventListener('click', function() {
                if (isReading) {
                    pauseReading();
                } else {
                    startReading();
                }
            });
            
            pauseBtn.addEventListener('click', pauseReading);
            stopBtn.addEventListener('click', stopReading);
            
            function startReading() {
                if (speechSynthesis.speaking && speechSynthesis.paused) {
                    // Resume if paused
                    speechSynthesis.resume();
                    readAloudBtn.style.display = 'none';
                    pauseBtn.style.display = 'inline-block';
                    readingIndicator.classList.add('active');
                    isReading = true;
                    return;
                }
                
                // Get the text content from the modal
                const text = modalContent.textContent || modalContent.innerText;
                
                // Stop any current speech
                stopReading();
                
                // Create new utterance
                currentUtterance = new SpeechSynthesisUtterance(text);
                currentUtterance.rate = 0.9;
                currentUtterance.pitch = 1;
                currentUtterance.volume = 1;
                
                // Update UI when reading starts
                currentUtterance.onstart = function() {
                    readAloudBtn.style.display = 'none';
                    pauseBtn.style.display = 'inline-block';
                    readingIndicator.classList.add('active');
                    isReading = true;
                };
                
                // Update progress (this is a simplified version)
                currentUtterance.onboundary = function(event) {
                    const progress = (event.charIndex / text.length) * 100;
                    readingProgress.style.width = progress + '%';
                };
                
                // Update UI when reading ends
                currentUtterance.onend = function() {
                    readAloudBtn.style.display = 'inline-block';
                    pauseBtn.style.display = 'none';
                    readingIndicator.classList.remove('active');
                    readingProgress.style.width = '0%';
                    isReading = false;
                };
                
                // Start reading
                speechSynthesis.speak(currentUtterance);
            }
            
            function pauseReading() {
                if (speechSynthesis.speaking && !speechSynthesis.paused) {
                    speechSynthesis.pause();
                    readAloudBtn.style.display = 'inline-block';
                    pauseBtn.style.display = 'none';
                    isReading = false;
                }
            }
            
            function stopReading() {
                if (speechSynthesis.speaking) {
                    speechSynthesis.cancel();
                    readAloudBtn.style.display = 'inline-block';
                    pauseBtn.style.display = 'none';
                    readingIndicator.classList.remove('active');
                    readingProgress.style.width = '0%';
                    isReading = false;
                }
            }
        });
    </script>
</body>
</html>